(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852],{5179:(e,s,r)=>{Promise.resolve().then(r.bind(r,9926))},5695:(e,s,r)=>{"use strict";var t=r(8999);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},9926:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(5155),a=r(2115),n=r(5695);function c(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)().get("code"),[r,c]=(0,a.useState)("loading"),[u,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{if(!s){c("error"),i("Missing code from login system.");return}try{let r=await fetch("http://localhost:3001/auth/exchange?code=".concat(s)),t=await r.json();if(!r.ok){c("error"),i(t.error||"Invalid response from login system.");return}c("success"),e.push("/")}catch(e){c("error"),i("Exchange failed: "+(e instanceof Error?e.message:String(e)))}})()},[s,e]),(0,t.jsxs)(t.Fragment,{children:["loading"===r&&(0,t.jsx)("p",{className:"text-lg",children:"Authenticating..."}),"success"===r&&(0,t.jsx)("p",{className:"text-green-400",children:"Success! Redirecting..."}),"error"===r&&(0,t.jsxs)("p",{className:"text-red-500",children:["Error: ",u]})]})}function u(){return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-zinc-900 text-white",children:(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("p",{className:"text-lg",children:"Loading authentication details..."}),children:(0,t.jsx)(c,{})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(5179)),_N_E=e.O()}]);